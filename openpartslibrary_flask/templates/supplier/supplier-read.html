{% extends "base-row.html" %}


{% block style %}
<!-- Extent the styles here -->
<!-- ... -->
{% endblock style %}

{% block function_buttons %}
<a type="button" class="btn btn-outline-secondary btn-sm" href="{{ url_for('suppliers') }}" style="font-size: smaller;">&larr; All suppliers</a>
{% endblock function_buttons %}

{% block view_buttons %}
<!-- Add your view buttons here -->
<!-- ... -->
{% endblock view_buttons %}

{% block main_view_content %}
<div class="container p-3 m-0" style="background-color: white; width: 100%; min-width: 100%; overflow-y: auto;">
    <div class="row mb-3">
        <!-- Image -->
        <div class="col-4">
            <div style="min-width: 100%; min-height: max(100%, 400px); border: 1px solid lightgray; background-color: #f5f5f5;" ></div>
        </div>
        <!-- Properties -->
        <div class="col-8">
            <p>Supplier</p>
            <h1>{{ supplier.name }}</h1>
            <div class="mb-2">
                <nobr>
                    <a href="{{ url_for('update_supplier', uuid=supplier.uuid) }}" class="btn btn-outline-secondary"> Edit</a>
                    <form action="{{ url_for('delete_supplier', uuid=supplier.uuid) }}" method="post" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this supplier?');">
                        <button type="submit" class="btn btn-outline-danger"> Delete</button>
                    </form>   
                </nobr>
            </div>
            <table class="table table-striped mb-0" style="outline-style: solid; outline-color: lightgray; outline-width: 1px;">
                <tr>
                    <th>Description</th>
                    <td>{{ supplier.description }}</td>
                </tr>
                <tr>
                    <th>Address</th>
                    <td>
                        {{ supplier.street }} {{ supplier.house_number }}<br>
                        {{ supplier.postal_code }} {{ supplier.city }}<br>
                        {{ supplier.country }}
                    </td>
                </tr>
                <tr>
                    <th>Country</th>
                    <td>{{ supplier.country }}</td>
                </tr>
                <tr>
                    <th>UUID</th>
                    <td>{{ supplier.uuid }}</td>
                </tr>
            </table>
        </div>
    </div>

    <h2 class="pt-4">Files</h2>
    <div class="pt-3 mb-2">
        <nobr>
            <a class="btn btn-outline-secondary" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('create_file') }}"><i class="bi-plus-lg" style="padding-right: 6px;"></i>Add file</a>
        </nobr>
    </div>
    <p class="mb-2">{{ len(files) }} files found.</p>
    <table class="table table-striped" style="outline-style: solid; outline-color: lightgray; outline-width: 1px;">
        <thead>
            <tr>
                <th>Name</th>
                <th>Last modified</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for file in files %}
            <tr>
                <td>{{ file.name }}</td>
                <td>{{ file.date_created }}</td>
                <td>
                    <nobr>
                        <a class="btn btn-secondary" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('read_file', file_uuid = file.uuid) }}"><i class="bi-eye"></i></a>
                        <a class="btn btn-outline-secondary" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('update_file', file_uuid = file.uuid) }}"><i class="bi-pencil"></i></a>
                        <a class="btn btn-outline-danger" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('delete_file', file_uuid = file.uuid) }}"><i class="bi-x-lg"></i></a>
                    </nobr>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="pt-4">Supplier parts</h2>

    <p class="mb-2">{{ len(files) }} parts found.</p>
    <table class="table table-striped" style="outline-style: solid; outline-color: lightgray; outline-width: 1px;">
        <thead>
            <tr>
                <th>Name</th>
                <th>Last modified</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for file in files %}
            <tr>
                <td>{{ file.name }}</td>
                <td>{{ file.date_created }}</td>
                <td>
                    <nobr>
                        <a class="btn btn-secondary" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('read_file', file_uuid = file.uuid) }}"><i class="bi-eye"></i></a>
                        <a class="btn btn-outline-secondary" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('update_file', file_uuid = file.uuid) }}"><i class="bi-pencil"></i></a>
                        <a class="btn btn-outline-danger" style="padding-left: 10px; padding-right: 10px;" href="{{ url_for('delete_file', file_uuid = file.uuid) }}"><i class="bi-x-lg"></i></a>
                    </nobr>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock main_view_content %}

{% block script %}
<!-- Extent the scripts here -->
<!-- ... -->
{% endblock script %}

