<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Suppliers</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-5.3.3-dist/css/bootstrap.min.css') }}">
    <style>
        .truncate {
            max-width: 300px; 
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
        }
        .table-hover tbody tr:hover {
            background-color: #d3d3d3;
            cursor: pointer;
        }
        .prevent-select {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
</head>
<body style="margin: 0; padding: 0; min-height: 100vh;">
    <div class="container-fluid px-1 py-1" style="margin: 0; padding: 0; min-height: 40px; max-height: 40px; background-color: #f5f5f5; border-bottom: 1px solid lightgray;">
        <div class="row p-0 m-0">
            <div class="col-md-3 p-0 m-0">
                <a type="button" class="btn btn-outline-secondary btn-sm" href="{{ url_for('create_supplier') }}" style="font-size: smaller;">
                    <img src="{{ url_for('static', filename = 'bootstrap-icons-1.11.3/plus.svg') }}" width="20" height="20">New supplier
                </a>
            </div>
            <div class="col-md-6 col-md-auto mb-2 justify-content-center p-0 m-0"> </div>
            <div class="col-md-3 text-end p-0 m-0" >
                <a type="button" class="btn btn-outline-secondary btn-sm " href="#">
                    <img class="pb-1" src="{{ url_for('static', filename = 'bootstrap-icons-1.11.3/list.svg') }}" width="16" height="16">
                </a>
                <a type="button" class="btn btn-outline-secondary btn-sm " href="#">
                    <img class="pb-1" src="{{ url_for('static', filename = 'bootstrap-icons-1.11.3/layout-split.svg') }}" width="16" height="16">
                </a>
            </div>
            </div>
        </div>
    </div>
    <div class="row prevent-select" style="margin: 0; padding: 0; min-height: calc(100vh - 41px); max-height: calc(100vh - 41px); overflow-y: auto;">
        <div class="col-6 m-0" style="overflow-y:auto ; min-height: calc(100vh - 40px);max-height: calc(100vh - 40px); background-color: white; border-right: 1px solid lightgray;">
            <p class="mb-3 px-3 py-0">{{ suppliers|length }} suppliers were found</p>
            <table class="table table-hover table-boarded align-middle">
                <thead class="table-light">
                    <tr>
                        <th style="width: 46px;"></th>
                        <th scope="col" style="min-width: 300px;">Name</th>
                        <th scope="col" style="min-width: 300px;">Description</th>
                        <th scope="col" style="min-width: 300px;">Address</th>
                        <th scope="col" style="min-width: 300px;">Country</th>
                    </tr>
                </thead>
                <tbody>
                    {% for supplier in suppliers %}
                    <tr>
                        
                        <td style="width: 46px;">
                            <a type="button" class="btn btn-outline-secondary btn-sm" href="{{ url_for('supplier_view', uuid=supplier.uuid) }}">
                                <img class="pb-1" src="{{ url_for('static', filename = 'bootstrap-icons-1.11.3/eye.svg') }}" width="16" height="16">
                            </a>
                        </td>
                        <td class="fw-bold" style="min-width: 220px;max-width: 220px;"> {{ supplier.name}}</td>
                        <td style="min-width: 260px;max-width: 260px;">
                            <span class="truncate" title="{{ supplier.description }}">{{ supplier.description }}</span>
                        </td>
                        <td style="white-space: normal; word-break: break-word; overflow-wrap: break-word;">
                            {{ supplier.street}} {{supplier.house_number}}, {{supplier.city}} {{supplier.postal_code}}
                        </td>
                        <td style="white-space: nowrap;">
                            {{ supplier.country}}
                        </td>
                        <td>
                            <a href="{{ url_for('update_supplier', uuid=supplier.uuid) }}" class="btn btn-outline-secondary btn-sm" style="font-size: smaller;"> Edit</a>
                            <form action="{{ url_for('delete_supplier', uuid=supplier.uuid) }}" method="post" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this supplier?');">
                                <button type="submit" class="btn btn-outline-danger btn-sm" style="font-size: smaller;"> Delete</button>
                            </form>
                                   
                        </td>
                    </tr>
                    {% endfor %}  
            </tbody>
        </table>
    </div>
</html>